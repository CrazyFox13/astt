(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{C9BS:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),u=function(){return function(){}}(),i=e("pMnS"),o=e("oBZk"),s=e("ZZ/e"),a=e("Ip0R"),r=e("2o4t"),d=e("J8Xp"),c=e("XRfs"),f=e("wGzG"),m=e("kdnD"),p=e("H+bZ"),h=e("t/Na"),g=function(){function n(n,l,e,t){this.api=n,this.nav=l,this.platform=e,this.socket=t,this.title="astt.su",this.page=1,this.isLoaded=!1,this.isLoadedEnd=!1,this.items=[],this.type=null,this.apiKey=null,this.usersStatuses=null,this.users=[],this.blockedUsers=[]}return n.prototype.ngOnInit=function(){var n=this;this.socket.usersStatuses.subscribe(function(l){return n.usersStatuses=l}),this.api.apiKey.subscribe(function(l){return n.apiKey=l})},n.prototype.ngOnDestroy=function(){},n.prototype.ionViewWillEnter=function(){this.blocked(),this.isLoaded=!1,this.isLoadedEnd=!1,this.page=1,this.request()},n.prototype.ionViewWillLeave=function(){this.blockedUsers=[],this.items=[],this.page=1,this.isLoaded=!1,this.isLoadedEnd=!1,this.type=null,this.users=[],this.socket.removeUsersStatuses()},n.prototype.loadData=function(n){var l=this;this.page=this.page+1,this.request(),setTimeout(function(){n.target.complete(),1e3==l.items.length&&(n.target.disabled=!0)},1e3)},n.prototype.refresh=function(){this.blocked(),this.isLoaded=!1,this.isLoadedEnd=!1,this.page=1,this.items=[],this.users=[],this.socket.removeUsersStatuses(),this.request()},n.prototype.doRefresh=function(n){this.isLoaded=!1,this.isLoadedEnd=!1,this.page=1,this.items=[],this.users=[],this.socket.removeUsersStatuses(),this.request(),setTimeout(function(){n.target.complete()},500)},n.prototype.cities=function(){this.nav.navigateForward("/public/cities")},n.prototype.request=function(){var n=this,l={};this.page>1&&(l.page=this.page.toString()),null!==this.type&&(l[this.type]="1"),this.api._get("tasks",new h.h({fromObject:l}),new h.g).toPromise().then(function(l){for(var e in n.isLoaded=!0,l.result)n.items.push(l.result[e]);for(var e in n.items){var t=!1;for(var u in n.users)n.users[u]==n.items[e].user.c&&(t=!0);t||n.users.push(n.items[e].user.c)}n.socket.putUsers(n.users)}).catch(function(l){n.isLoaded=!0,n.isLoadedEnd=!0})},n.prototype.filter=function(n){switch(n){case"quickly":case"safe":case"noResponses":case"lessThan10":this.type=n;break;case"reset":this.type=null;break;default:this.type=null}this.isLoaded=!1,this.page=1,this.items=[],this.users=[],this.socket.removeUsersStatuses(),this.request()},n.prototype.blocked=function(){var n=this;null!==this.apiKey&&this.api._get("blacklist",new h.h,new h.g({"X-PI-KEY":this.apiKey})).toPromise().then(function(l){for(var e in n.blockedUsers=[],l.result)n.blockedUsers[l.result[e].id]=!0}).catch(function(l){n.isLoaded=!0})},n}(),b=t["\u0275crt"]({encapsulation:0,styles:[[".fab[_ngcontent-%COMP%]{position:absolute;right:0}.fab-item[_ngcontent-%COMP%]{padding:.5rem;background-color:#ebebeb;border-radius:.2rem;font-size:.8rem;margin-bottom:.8rem;box-shadow:0 0 5px 0 rgba(102,102,102,.5)}.fab-item--reset[_ngcontent-%COMP%]{background-color:#c24227;color:#fff}.fab-item[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{position:absolute;right:.5rem}"]],data:{}});function R(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"ion-icon",[["name","checkmark"]],null,null,null,o.Y,o.n)),t["\u0275did"](1,49152,null,0,s.B,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"checkmark")},null)}function k(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"ion-icon",[["name","checkmark"]],null,null,null,o.Y,o.n)),t["\u0275did"](1,49152,null,0,s.B,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"checkmark")},null)}function v(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"ion-icon",[["name","checkmark"]],null,null,null,o.Y,o.n)),t["\u0275did"](1,49152,null,0,s.B,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"checkmark")},null)}function C(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"ion-icon",[["name","checkmark"]],null,null,null,o.Y,o.n)),t["\u0275did"](1,49152,null,0,s.B,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"checkmark")},null)}function y(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","fab-item fab-item--reset"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.filter("reset")&&t),t},null,null)),(n()(),t["\u0275ted"](-1,null,[" \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440 "]))],null,null)}function N(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,26,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,o.W,o.j)),t["\u0275did"](1,49152,null,0,s.v,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),t["\u0275eld"](2,0,null,0,3,"ion-fab-button",[],null,null,null,o.U,o.k)),t["\u0275did"](3,49152,null,0,s.w,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](4,0,null,0,1,"ion-icon",[["color","light"],["name","funnel"]],null,null,null,o.Y,o.n)),t["\u0275did"](5,49152,null,0,s.B,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"],name:[1,"name"]},null),(n()(),t["\u0275eld"](6,0,null,0,20,"ion-fab-list",[["side","top"]],null,null,null,o.V,o.l)),t["\u0275did"](7,49152,null,0,s.x,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{side:[0,"side"]},null),(n()(),t["\u0275eld"](8,0,null,0,18,"div",[["class","fab"]],null,null,null,null,null)),(n()(),t["\u0275eld"](9,0,null,null,3,"div",[["class","fab-item"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.filter("quickly")&&t),t},null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,R)),t["\u0275did"](11,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275ted"](-1,null,[" \u0421\u0440\u043e\u0447\u043d\u044b\u0435 "])),(n()(),t["\u0275eld"](13,0,null,null,3,"div",[["class","fab-item"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.filter("safe")&&t),t},null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,k)),t["\u0275did"](15,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275ted"](-1,null,[" \u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0430\u044f \u0441\u0434\u0435\u043b\u043a\u0430 "])),(n()(),t["\u0275eld"](17,0,null,null,3,"div",[["class","fab-item"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.filter("noResponses")&&t),t},null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,v)),t["\u0275did"](19,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275ted"](-1,null,[" \u0411\u0435\u0437 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0439 "])),(n()(),t["\u0275eld"](21,0,null,null,3,"div",[["class","fab-item"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.filter("lessThan10")&&t),t},null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,C)),t["\u0275did"](23,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275ted"](-1,null,[" \u041c\u0435\u043d\u0435\u0435 10 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0439 "])),(n()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](26,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,1,0,"end","bottom"),n(l,5,0,"light","funnel"),n(l,7,0,"top"),n(l,11,0,"quickly"==e.type),n(l,15,0,"safe"==e.type),n(l,19,0,"noResponses"==e.type),n(l,23,0,"lessThan10"==e.type),n(l,26,0,null!==e.type)},null)}function I(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"ion-list",[["inset","true"]],null,null,null,o.hb,o.w)),t["\u0275did"](1,49152,null,0,s.N,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{inset:[0,"inset"]},null),(n()(),t["\u0275eld"](2,0,null,0,1,"app-task-items-list",[],null,null,null,r.b,r.a)),t["\u0275did"](3,114688,null,0,d.a,[s.Gb,c.a],{items:[0,"items"],statuses:[1,"statuses"],blockedUsers:[2,"blockedUsers"]},null)],function(n,l){var e=l.component;n(l,1,0,"true"),n(l,3,0,e.items,e.usersStatuses,e.blockedUsers)},null)}function E(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],function(n,l,e){var t=!0;return"ionInfinite"===l&&(t=!1!==n.component.loadData(e)&&t),t},o.bb,o.p)),t["\u0275did"](1,49152,null,0,s.D,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{threshold:[0,"threshold"]},null),(n()(),t["\u0275eld"](2,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","crescent"]],null,null,null,o.ab,o.q)),t["\u0275did"](3,49152,null,0,s.E,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{loadingSpinner:[0,"loadingSpinner"]},null)],function(n,l){n(l,1,0,"100px"),n(l,3,0,"crescent")},null)}function L(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,16,"ion-header",[],null,null,null,o.X,o.m)),t["\u0275did"](1,49152,null,0,s.A,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](2,0,null,0,14,"ion-toolbar",[],null,null,null,o.vb,o.K)),t["\u0275did"](3,49152,null,0,s.Ab,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](4,0,null,0,2,"ion-title",[],null,null,null,o.ub,o.J)),t["\u0275did"](5,49152,null,0,s.yb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275ted"](6,0,[" "," "])),(n()(),t["\u0275eld"](7,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,o.Q,o.f)),t["\u0275did"](8,49152,null,0,s.k,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](9,0,null,0,1,"ion-menu-button",[["autoHide","false"],["color","dark"]],null,null,null,o.ib,o.y)),t["\u0275did"](10,49152,null,0,s.Q,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{autoHide:[0,"autoHide"],color:[1,"color"]},null),(n()(),t["\u0275eld"](11,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,o.Q,o.f)),t["\u0275did"](12,49152,null,0,s.k,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](13,0,null,0,3,"ion-button",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.refresh()&&t),t},o.P,o.e)),t["\u0275did"](14,49152,null,0,s.j,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](15,0,null,0,1,"ion-icon",[["name","refresh"]],null,null,null,o.Y,o.n)),t["\u0275did"](16,49152,null,0,s.B,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{name:[0,"name"]},null),(n()(),t["\u0275eld"](17,0,null,null,1,"app-task-items-list-skeleton",[],null,null,null,f.b,f.a)),t["\u0275did"](18,114688,null,0,m.a,[],{isLoaded:[0,"isLoaded"]},null),(n()(),t["\u0275eld"](19,0,null,null,7,"ion-content",[],null,null,null,o.S,o.h)),t["\u0275did"](20,49152,null,0,s.t,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275and"](16777216,null,0,1,null,N)),t["\u0275did"](22,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,I)),t["\u0275did"](24,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,E)),t["\u0275did"](26,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,10,0,"false","dark"),n(l,16,0,"refresh"),n(l,18,0,e.isLoaded),n(l,22,0,e.isLoaded),n(l,24,0,e.isLoaded),n(l,26,0,!e.isLoadedEnd)},function(n,l){n(l,6,0,l.component.title)})}function Z(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-home",[],null,null,null,L,b)),t["\u0275did"](1,245760,null,0,g,[p.a,s.Gb,s.Ib,c.a],null,null)],function(n,l){n(l,1,0)},null)}var w=t["\u0275ccf"]("app-home",g,Z,{},{},[]),D=e("gIcY"),S=e("ZYjt"),M=e("goJk"),T=e("ZYCi"),U=e("BJHQ"),_=e("/mPg"),P=e("XdnL");e.d(l,"HomePageModuleNgFactory",function(){return V});var V=t["\u0275cmf"](u,[],function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,w]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,a.NgLocalization,a.NgLocaleLocalization,[t.LOCALE_ID,[2,a["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,D.s,D.s,[]),t["\u0275mpd"](4608,s.a,s.a,[t.NgZone,t.ApplicationRef]),t["\u0275mpd"](4608,s.Fb,s.Fb,[s.a,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](4608,s.Jb,s.Jb,[s.a,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](4608,S.HAMMER_GESTURE_CONFIG,M.CustomHammerConfig,[]),t["\u0275mpd"](1073742336,a.CommonModule,a.CommonModule,[]),t["\u0275mpd"](1073742336,D.r,D.r,[]),t["\u0275mpd"](1073742336,D.g,D.g,[]),t["\u0275mpd"](1073742336,s.Cb,s.Cb,[]),t["\u0275mpd"](1073742336,T.n,T.n,[[2,T.s],[2,T.m]]),t["\u0275mpd"](1073742336,U.a,U.a,[]),t["\u0275mpd"](1073742336,M.NgxGalleryModule,M.NgxGalleryModule,[]),t["\u0275mpd"](1073742336,_.a,_.a,[]),t["\u0275mpd"](1073742336,P.a,P.a,[]),t["\u0275mpd"](1073742336,u,u,[]),t["\u0275mpd"](1024,T.k,function(){return[[{path:"",component:g}]]},[])])})}}]);