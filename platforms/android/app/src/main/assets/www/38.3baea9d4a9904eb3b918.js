(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{nMDb:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),o=e("H+bZ"),u=e("t/Na"),i=e("XRfs"),r=e("ZZ/e"),a=function(){function n(n,l,e){this.api=n,this.socket=l,this.nav=e,this.title="\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",this.isLoaded=!1,this.items=[],this.apiKey=null,this.unreadRooms=null}return n.prototype.ngOnInit=function(){var n=this;this.api.apiKey.subscribe(function(l){return n.apiKey=l}),this.socket.unreadRooms.subscribe(function(l){return n.unreadRooms=l})},n.prototype.ionViewWillEnter=function(){this.request()},n.prototype.ionViewWillLeave=function(){this.items=[]},n.prototype.request=function(){var n=this;this.api._get("chatrooms",new u.h,new u.g({"X-PI-KEY":this.apiKey})).toPromise().then(function(l){for(var e in n.isLoaded=!0,l.result)n.items.push(l.result[e]),n.socket.putUnread(l.result[e].id,l.result[e].unread)}).catch(function(l){n.isLoaded=!0})},n.prototype.detail=function(n,l){this.nav.navigateForward("/private/messages/detail/"+n+"/"+l)},n}(),c=function(){return function(){}}(),d=e("pMnS"),s=e("Ip0R"),m=e("oBZk"),f=t["\u0275crt"]({encapsulation:0,styles:[["ion-list[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #cecece}.item[_ngcontent-%COMP%]{font-size:.9rem;padding:.8rem 0}.item-unread[_ngcontent-%COMP%]{display:inline;color:#0ec254;margin-right:.5rem;font-weight:700}.item-title[_ngcontent-%COMP%]{display:inline}"]],data:{}});function p(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","item-unread"]],null,null,null,null,null)),(n()(),t["\u0275ted"](1,null,["+",""]))],null,function(n,l){n(l,1,0,l.component.unreadRooms[l.parent.context.$implicit.id])})}function g(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","item"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.detail(n.context.$implicit.id,n.context.$implicit.taskId)&&t),t},null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,p)),t["\u0275did"](2,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](3,0,null,null,1,"div",[["class","item-title"]],null,null,null,null,null)),(n()(),t["\u0275ted"](4,null,["",""]))],function(n,l){var e=l.component;n(l,2,0,null!==e.unreadRooms&&e.unreadRooms[l.context.$implicit.id]>0)},function(n,l){n(l,4,0,l.context.$implicit.name.UF_NAME)})}function h(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,11,"ion-header",[],null,null,null,m.X,m.m)),t["\u0275did"](1,49152,null,0,r.A,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](2,0,null,0,9,"ion-toolbar",[],null,null,null,m.vb,m.K)),t["\u0275did"](3,49152,null,0,r.Ab,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](4,0,null,0,2,"ion-title",[],null,null,null,m.ub,m.J)),t["\u0275did"](5,49152,null,0,r.yb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275ted"](6,0,["",""])),(n()(),t["\u0275eld"](7,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,m.Q,m.f)),t["\u0275did"](8,49152,null,0,r.k,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](9,0,null,0,2,"ion-back-button",[["color","dark"],["defaultHref","/public/home"],["text",""]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==t["\u0275nov"](n,11).onClick(e)&&o),o},m.N,m.c)),t["\u0275did"](10,49152,null,0,r.f,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"],defaultHref:[1,"defaultHref"],text:[2,"text"]},null),t["\u0275did"](11,16384,null,0,r.g,[[2,r.gb],r.Gb],{defaultHref:[0,"defaultHref"]},null),(n()(),t["\u0275eld"](12,0,null,null,5,"ion-content",[],null,null,null,m.S,m.h)),t["\u0275did"](13,49152,null,0,r.t,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](14,0,null,0,3,"ion-list",[["inset","true"]],null,null,null,m.hb,m.w)),t["\u0275did"](15,49152,null,0,r.N,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{inset:[0,"inset"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,g)),t["\u0275did"](17,278528,null,0,s.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component;n(l,10,0,"dark","/public/home",""),n(l,11,0,"/public/home"),n(l,15,0,"true"),n(l,17,0,e.items)},function(n,l){n(l,6,0,l.component.title)})}function R(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-messages",[],null,null,null,h,f)),t["\u0275did"](1,114688,null,0,a,[o.a,i.a,r.Gb],null,null)],function(n,l){n(l,1,0)},null)}var b=t["\u0275ccf"]("app-messages",a,R,{},{},[]),v=e("gIcY"),C=e("ZYCi");e.d(l,"MessagesPageModuleNgFactory",function(){return y});var y=t["\u0275cmf"](c,[],function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[d.a,b]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,s.NgLocalization,s.NgLocaleLocalization,[t.LOCALE_ID,[2,s["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,v.s,v.s,[]),t["\u0275mpd"](4608,r.a,r.a,[t.NgZone,t.ApplicationRef]),t["\u0275mpd"](4608,r.Fb,r.Fb,[r.a,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](4608,r.Jb,r.Jb,[r.a,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](1073742336,s.CommonModule,s.CommonModule,[]),t["\u0275mpd"](1073742336,v.r,v.r,[]),t["\u0275mpd"](1073742336,v.g,v.g,[]),t["\u0275mpd"](1073742336,r.Cb,r.Cb,[]),t["\u0275mpd"](1073742336,C.n,C.n,[[2,C.s],[2,C.m]]),t["\u0275mpd"](1073742336,c,c,[]),t["\u0275mpd"](1024,C.k,function(){return[[{path:"",component:a}]]},[])])})}}]);