(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{rC6f:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),u=e("H+bZ"),i=e("ZZ/e"),o=e("t/Na"),s=e("XRfs"),a=function(){function n(n,l,e){this.api=n,this.nav=l,this.socket=e,this.page=1,this.isLoaded=!1,this.isLoadedEnd=!1,this.title="\u0412\u0441\u0435 \u0437\u0430\u044f\u0432\u043a\u0438",this.items=[],this.type=null,this.usersStatuses=null,this.users=[],this.apiKey=null,this.blockedUsers=[]}return n.prototype.ngOnInit=function(){var n=this;this.socket.usersStatuses.subscribe(function(l){return n.usersStatuses=l}),this.api.apiKey.subscribe(function(l){return n.apiKey=l})},n.prototype.ngOnDestroy=function(){},n.prototype.ionViewWillEnter=function(){this.blocked(),this.isLoaded=!1,this.page=1,this.items=[],this.users=[],this.request()},n.prototype.ionViewWillLeave=function(){this.blockedUsers=[],this.items=[],this.page=1,this.isLoaded=!1,this.isLoadedEnd=!1,this.type=null,this.users=[],this.socket.removeUsersStatuses()},n.prototype.loadData=function(n){var l=this;this.page=this.page+1,this.request(),setTimeout(function(){n.target.complete(),1e3==l.items.length&&(n.target.disabled=!0)},1e3)},n.prototype.refresh=function(){this.blocked(),this.isLoaded=!1,this.isLoadedEnd=!1,this.page=1,this.items=[],this.users=[],this.socket.removeUsersStatuses(),this.request()},n.prototype.doRefresh=function(n){this.isLoaded=!1,this.isLoadedEnd=!1,this.page=1,this.items=[],this.users=[],this.socket.removeUsersStatuses(),this.request(),setTimeout(function(){n.target.complete()},500)},n.prototype.request=function(){var n=this,l={};this.page>1&&(l.page=this.page.toString()),null!==this.type&&(l[this.type]="1"),this.api._get("tasks",new o.h({fromObject:l}),new o.g).toPromise().then(function(l){for(var e in n.isLoaded=!0,l.result)n.items.push(l.result[e]);for(var e in n.items){var t=!1;for(var u in n.users)n.users[u]==n.items[e].user.c&&(t=!0);t||n.users.push(n.items[e].user.c)}n.socket.putUsers(n.users)}).catch(function(l){n.isLoaded=!0,n.isLoadedEnd=!0})},n.prototype.filter=function(n){switch(n){case"quickly":case"safe":case"noResponses":case"lessThan10":this.type=n;break;case"reset":this.type=null;break;default:this.type=null}this.isLoaded=!1,this.page=1,this.items=[],this.users=[],this.socket.removeUsersStatuses(),this.request()},n.prototype.blocked=function(){var n=this;null!==this.apiKey&&this.api._get("blacklist",new o.h,new o.g({"X-PI-KEY":this.apiKey})).toPromise().then(function(l){for(var e in n.blockedUsers=[],l.result)n.blockedUsers[l.result[e].id]=!0}).catch(function(l){n.isLoaded=!0})},n}(),r=function(){return function(){}}(),d=e("pMnS"),c=e("oBZk"),f=e("Ip0R"),m=e("2o4t"),p=e("J8Xp"),h=e("wGzG"),g=e("kdnD"),b=t["\u0275crt"]({encapsulation:0,styles:[[".fab[_ngcontent-%COMP%]{position:absolute;right:0}.fab-item[_ngcontent-%COMP%]{padding:.5rem;background-color:#ebebeb;border-radius:.2rem;font-size:.8rem;margin-bottom:.8rem;box-shadow:0 0 5px 0 rgba(102,102,102,.5)}.fab-item--reset[_ngcontent-%COMP%]{background-color:#c24227;color:#fff}.fab-item[_ngcontent-%COMP%] > ion-icon[_ngcontent-%COMP%]{position:absolute;right:.5rem}"]],data:{}});function k(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"ion-icon",[["name","checkmark"]],null,null,null,c.Y,c.n)),t["\u0275did"](1,49152,null,0,i.B,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"checkmark")},null)}function R(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"ion-icon",[["name","checkmark"]],null,null,null,c.Y,c.n)),t["\u0275did"](1,49152,null,0,i.B,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"checkmark")},null)}function v(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"ion-icon",[["name","checkmark"]],null,null,null,c.Y,c.n)),t["\u0275did"](1,49152,null,0,i.B,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"checkmark")},null)}function C(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"ion-icon",[["name","checkmark"]],null,null,null,c.Y,c.n)),t["\u0275did"](1,49152,null,0,i.B,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"checkmark")},null)}function y(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","fab-item fab-item--reset"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.filter("reset")&&t),t},null,null)),(n()(),t["\u0275ted"](-1,null,[" \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440 "]))],null,null)}function N(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,26,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,c.W,c.j)),t["\u0275did"](1,49152,null,0,i.v,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),t["\u0275eld"](2,0,null,0,3,"ion-fab-button",[],null,null,null,c.U,c.k)),t["\u0275did"](3,49152,null,0,i.w,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](4,0,null,0,1,"ion-icon",[["color","light"],["name","funnel"]],null,null,null,c.Y,c.n)),t["\u0275did"](5,49152,null,0,i.B,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"],name:[1,"name"]},null),(n()(),t["\u0275eld"](6,0,null,0,20,"ion-fab-list",[["side","top"]],null,null,null,c.V,c.l)),t["\u0275did"](7,49152,null,0,i.x,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{side:[0,"side"]},null),(n()(),t["\u0275eld"](8,0,null,0,18,"div",[["class","fab"]],null,null,null,null,null)),(n()(),t["\u0275eld"](9,0,null,null,3,"div",[["class","fab-item"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.filter("quickly")&&t),t},null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,k)),t["\u0275did"](11,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275ted"](-1,null,[" \u0421\u0440\u043e\u0447\u043d\u044b\u0435 "])),(n()(),t["\u0275eld"](13,0,null,null,3,"div",[["class","fab-item"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.filter("safe")&&t),t},null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,R)),t["\u0275did"](15,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275ted"](-1,null,[" \u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0430\u044f \u0441\u0434\u0435\u043b\u043a\u0430 "])),(n()(),t["\u0275eld"](17,0,null,null,3,"div",[["class","fab-item"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.filter("noResponses")&&t),t},null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,v)),t["\u0275did"](19,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275ted"](-1,null,[" \u0411\u0435\u0437 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0439 "])),(n()(),t["\u0275eld"](21,0,null,null,3,"div",[["class","fab-item"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.filter("lessThan10")&&t),t},null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,C)),t["\u0275did"](23,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275ted"](-1,null,[" \u041c\u0435\u043d\u0435\u0435 10 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0439 "])),(n()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](26,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,1,0,"end","bottom"),n(l,5,0,"light","funnel"),n(l,7,0,"top"),n(l,11,0,"quickly"==e.type),n(l,15,0,"safe"==e.type),n(l,19,0,"noResponses"==e.type),n(l,23,0,"lessThan10"==e.type),n(l,26,0,null!==e.type)},null)}function I(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"ion-list",[["inset","true"]],null,null,null,c.hb,c.w)),t["\u0275did"](1,49152,null,0,i.N,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{inset:[0,"inset"]},null),(n()(),t["\u0275eld"](2,0,null,0,1,"app-task-items-list",[],null,null,null,m.b,m.a)),t["\u0275did"](3,114688,null,0,p.a,[i.Gb,s.a],{items:[0,"items"],statuses:[1,"statuses"],blockedUsers:[2,"blockedUsers"]},null)],function(n,l){var e=l.component;n(l,1,0,"true"),n(l,3,0,e.items,e.usersStatuses,e.blockedUsers)},null)}function E(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"ion-infinite-scroll",[["threshold","100px"]],null,[[null,"ionInfinite"]],function(n,l,e){var t=!0;return"ionInfinite"===l&&(t=!1!==n.component.loadData(e)&&t),t},c.bb,c.p)),t["\u0275did"](1,49152,null,0,i.D,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{threshold:[0,"threshold"]},null),(n()(),t["\u0275eld"](2,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","crescent"]],null,null,null,c.ab,c.q)),t["\u0275did"](3,49152,null,0,i.E,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{loadingSpinner:[0,"loadingSpinner"]},null)],function(n,l){n(l,1,0,"100px"),n(l,3,0,"crescent")},null)}function L(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,17,"ion-header",[],null,null,null,c.X,c.m)),t["\u0275did"](1,49152,null,0,i.A,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](2,0,null,0,15,"ion-toolbar",[],null,null,null,c.vb,c.K)),t["\u0275did"](3,49152,null,0,i.Ab,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](4,0,null,0,2,"ion-title",[],null,null,null,c.ub,c.J)),t["\u0275did"](5,49152,null,0,i.yb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275ted"](6,0,["",""])),(n()(),t["\u0275eld"](7,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,c.Q,c.f)),t["\u0275did"](8,49152,null,0,i.k,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](9,0,null,0,2,"ion-back-button",[["color","dark"],["defaultHref","/public/home"],["text",""]],null,[[null,"click"]],function(n,l,e){var u=!0;return"click"===l&&(u=!1!==t["\u0275nov"](n,11).onClick(e)&&u),u},c.N,c.c)),t["\u0275did"](10,49152,null,0,i.f,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"],defaultHref:[1,"defaultHref"],text:[2,"text"]},null),t["\u0275did"](11,16384,null,0,i.g,[[2,i.gb],i.Gb],{defaultHref:[0,"defaultHref"]},null),(n()(),t["\u0275eld"](12,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,c.Q,c.f)),t["\u0275did"](13,49152,null,0,i.k,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](14,0,null,0,3,"ion-button",[],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.refresh()&&t),t},c.P,c.e)),t["\u0275did"](15,49152,null,0,i.j,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275eld"](16,0,null,0,1,"ion-icon",[["name","refresh"]],null,null,null,c.Y,c.n)),t["\u0275did"](17,49152,null,0,i.B,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{name:[0,"name"]},null),(n()(),t["\u0275eld"](18,0,null,null,1,"app-task-items-list-skeleton",[],null,null,null,h.b,h.a)),t["\u0275did"](19,114688,null,0,g.a,[],{isLoaded:[0,"isLoaded"]},null),(n()(),t["\u0275eld"](20,0,null,null,7,"ion-content",[],null,null,null,c.S,c.h)),t["\u0275did"](21,49152,null,0,i.t,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["\u0275and"](16777216,null,0,1,null,N)),t["\u0275did"](23,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,I)),t["\u0275did"](25,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,0,1,null,E)),t["\u0275did"](27,16384,null,0,f.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,10,0,"dark","/public/home",""),n(l,11,0,"/public/home"),n(l,17,0,"refresh"),n(l,19,0,e.isLoaded),n(l,23,0,e.isLoaded),n(l,25,0,e.isLoaded),n(l,27,0,!e.isLoadedEnd)},function(n,l){n(l,6,0,l.component.title)})}function Z(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-tasks",[],null,null,null,L,b)),t["\u0275did"](1,245760,null,0,a,[u.a,i.Gb,s.a],null,null)],function(n,l){n(l,1,0)},null)}var D=t["\u0275ccf"]("app-tasks",a,Z,{},{},[]),w=e("gIcY"),S=e("ZYjt"),T=e("goJk"),M=e("ZYCi"),U=e("BJHQ"),_=e("/mPg"),x=e("XdnL");e.d(l,"TasksPageModuleNgFactory",function(){return P});var P=t["\u0275cmf"](r,[],function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[d.a,D]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,f.NgLocalization,f.NgLocaleLocalization,[t.LOCALE_ID,[2,f["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,w.s,w.s,[]),t["\u0275mpd"](4608,i.a,i.a,[t.NgZone,t.ApplicationRef]),t["\u0275mpd"](4608,i.Fb,i.Fb,[i.a,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](4608,i.Jb,i.Jb,[i.a,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](4608,S.HAMMER_GESTURE_CONFIG,T.CustomHammerConfig,[]),t["\u0275mpd"](1073742336,f.CommonModule,f.CommonModule,[]),t["\u0275mpd"](1073742336,w.r,w.r,[]),t["\u0275mpd"](1073742336,w.g,w.g,[]),t["\u0275mpd"](1073742336,i.Cb,i.Cb,[]),t["\u0275mpd"](1073742336,M.n,M.n,[[2,M.s],[2,M.m]]),t["\u0275mpd"](1073742336,U.a,U.a,[]),t["\u0275mpd"](1073742336,T.NgxGalleryModule,T.NgxGalleryModule,[]),t["\u0275mpd"](1073742336,_.a,_.a,[]),t["\u0275mpd"](1073742336,x.a,x.a,[]),t["\u0275mpd"](1073742336,r,r,[]),t["\u0275mpd"](1024,M.k,function(){return[[{path:"",component:a}]]},[])])})}}]);